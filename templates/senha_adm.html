{% extends 'base_administrador.html' %}

{% block titulo %}
Alterar Senha
{% endblock %}

{% block links %}
<!-- link do Font Awesome para os ícones -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="{{ url_for('static', filename='styles/administrador.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='styles/funcionario.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='styles/senha_adm.css') }}"> 
{% endblock %}

{% block conteudo %}

<main>
    <div class="password-box">
        <form id="alterarSenhaForm" action="/administrador/alterar_senha" method="post">
            <div class="form-group">
                <label for="senhaAtual">Senha atual:</label>
                <div class="password-container">
                    <input type="password" id="senhaAtual" name="senha_atual" placeholder="Digite a senha atual" required>
                    <i class="far fa-eye" id="toggleSenhaAtual" onclick="togglePassword('senhaAtual')"></i>
                </div>
            </div>
            
            <div class="form-group">
                <label for="novaSenha">Senha nova:</label>
                <div class="password-container">
                    <input type="password" id="novaSenha" name="senha_nova" placeholder="Digite a nova senha" required>
                    <i class="far fa-eye" id="toggleNovaSenha" onclick="togglePassword('novaSenha')"></i>
                </div>
            </div>
            
            <div class="form-group">
                <label for="confirmarNovaSenha">Confirmar senha nova:</label>
                <div class="password-container">
                    <input type="password" id="confirmarNovaSenha" name="confirmar_senha_nova" placeholder="Confirme a nova senha" required>
                    <i class="far fa-eye" id="toggleConfirmarNovaSenha" onclick="togglePassword('confirmarNovaSenha')"></i>
                </div>
            </div>
        </form>
    </div>

    <div  class="confirmaCriaFuncionario botao">
        <a href="{{ url_for('administrador') }}">
            <button type="button">Voltar</button>
        </a>
        <button id="pos" type="button" onclick="submitForm()">Confirmar</button>
    </div>

    <script>
        function submitForm() {
            // Submete o formulário
            document.getElementById('alterarSenhaForm').submit();
        }
    
        function togglePassword(inputId) {
            var inputField = document.getElementById(inputId);
            var icon = document.getElementById("toggle" + inputId.charAt(0).toUpperCase() + inputId.slice(1));
    
            if (inputField.type === "password") {
                inputField.type = "text"; 
                icon.classList.remove('fa-eye'); 
                icon.classList.add('fa-eye-slash'); 
            } else {
                inputField.type = "password"; 
                icon.classList.remove('fa-eye-slash'); 
                icon.classList.add('fa-eye');
            }
        }
    </script>

</main>

{% endblock %}
